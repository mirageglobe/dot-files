#!/usr/bin/env bats

# using bats-core : https://github.com/bats-core/bats-core
# this should be under project-root/test
#
# make should have rule - bats -r test/*

# source should be project-root/src
SOURCE=src

@test "ensure that app exists" {
  run stat $SOURCE/project-main.sh
  [ $status = 0 ]
}

@test "ensure that fake command returns error" {
  run $SOURCE/project-main.sh randomcommand
  [ $status = 127 ]
}

@test "ensure that command : m : works" {
  run $SOURCE/project-main.sh m
  [ $status = 0 ]
}

@test "ensure that command : mm : works" {
  run $SOURCE/project-main.sh mm
  [ $status = 0 ]
}

@test "ensure that command : m-v : works" {
  run $SOURCE/project-main.sh m-v
  [ $status = 127 ]
}

@test "ensure that command : r : fails" {
  run $SOURCE/project-main.sh r
  [ $status = 127 ]
}
